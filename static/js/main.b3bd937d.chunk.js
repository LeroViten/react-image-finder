(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{41:function(e,t,n){},42:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(4),r=n.n(o),i=n(9),s=n(3),l=n(5),u=n(11),m=n.n(u),j=(n(10),n(40),n(41),n(42),n(1));function d(e){var t=e.onSubmit,n=Object(a.useState)(""),c=Object(s.a)(n,2),o=c[0],r=c[1];return Object(j.jsx)("header",{className:"Searchbar animate__animated animate__fadeInDown",children:Object(j.jsxs)("form",{className:"SearchForm",onSubmit:function(e){if(e.preventDefault(),""===o.trim())return l.c.error("Enter valid search");t(o),r("")},children:[Object(j.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(j.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(j.jsx)("input",{value:o,onChange:function(e){r(e.target.value)},className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}n(44),n(45);function h(e){var t=e.webformatURL,n=e.largeImageURL,a=e.tags,c=e.setModalImgInfo;return Object(j.jsx)("li",{className:"ImageGalleryItem animate_animated animate__zoomIn",children:Object(j.jsx)("img",{src:t,alt:a,onClick:function(){return c({largeImageURL:n,tags:a})},className:"ImageGalleryItem-image"})})}n(46);function b(e){var t=e.images,n=e.setModalImgInfo;return Object(j.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){var t=e.webformatURL,a=e.largeImageURL,c=e.tags,o=e.id;return Object(j.jsx)(h,{webformatURL:t,largeImageURL:a,tags:c,setModalImgInfo:n},o)}))})}n(47);function f(e){var t=e.onLoadMore;return Object(j.jsx)("button",{type:"button",className:"Button",onClick:t,children:"Load more"})}var g=n(12),O=n(13),p=n(15),v=n(14),x=(n(48),document.querySelector("#modal-root")),y=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(g.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).handleEscButtonPress=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(O.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleEscButtonPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleEscButtonPress)}},{key:"render",value:function(){return Object(o.createPortal)(Object(j.jsx)("div",{className:"Overlay",onClick:this.handleBackdropClick,children:Object(j.jsx)("div",{className:"Modal animate__animated animate__jackInTheBox",children:this.props.children})}),x)}}]),n}(a.PureComponent);function I(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(1),r=Object(s.a)(o,2),u=r[0],h=r[1],g=Object(a.useState)([]),O=Object(s.a)(g,2),p=O[0],v=O[1],x=Object(a.useState)(!1),I=Object(s.a)(x,2),S=I[0],w=I[1],k=Object(a.useState)(null),N=Object(s.a)(k,2),L=(N[0],N[1]),_=Object(a.useState)("idle"),C=Object(s.a)(_,2),E=C[0],U=C[1],B=Object(a.useState)(null),F=Object(s.a)(B,2),M=F[0],R=F[1],P=Object(a.useState)(null),A=Object(s.a)(P,2),D=A[0],G=A[1],T=function(){var e="/?image_type=photo&orientation=horizontal&q=".concat(n,"&page=").concat(u,"&per_page=").concat(12,"&key=").concat("22952317-a5881606497ad665bd114491c");U("pending"),fetch("https://pixabay.com/api"+e).then((function(e){return e.json()})).then((function(e){var t=e.hits;t.length<1&&l.c.error("Nothing found, specify your search"),v((function(e){return[].concat(Object(i.a)(e),Object(i.a)(t))})),U("resolved"),h((function(e){return e+1})),1!==u&&z()})).catch((function(e){L(e),console.error(e.message),U("rejected")}))};Object(a.useEffect)((function(){n&&T()}),[n]);var q=function(){w(!S)},z=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},J=p.length>0&&p.length>=12;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(d,{onSubmit:function(e){e!==n&&(c(e),h(1),v([]))}}),0===p.length&&"pending"!==E&&Object(j.jsx)("h2",{style:{textAlign:"center"},children:"Nothing to show! \ud83d\ude0e Use Search above\ud83d\ude09"}),"pending"===E&&Object(j.jsx)(m.a,{className:"Loader",type:"Puff",color:"#00BFFF",height:150,width:150,timeout:2e3}),Object(j.jsx)(b,{images:p,setModalImgInfo:function(e){var t=e.largeImageURL,n=e.tags;R(t),G(n),q()}}),J&&Object(j.jsx)(f,{onLoadMore:function(){T()}}),S&&Object(j.jsx)(y,{onClose:q,children:Object(j.jsx)("img",{src:M,alt:D,width:"800",height:"600"})})]}),Object(j.jsx)(l.a,{transition:l.b,autoClose:3e3})]})}n(49);r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(I,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.b3bd937d.chunk.js.map