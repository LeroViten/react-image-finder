(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{56:function(e,t,n){},57:function(e,t,n){},59:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(5),o=n.n(r),s=n(6),i=n.n(s),u=n(15),l=n(12),m=n(4),d=n(7),b=n(25),j=n.n(b),h=(n(16),n(55),n(56),n(57),n(1));function f(e){var t=e.onSubmit,n=Object(a.useState)(""),c=Object(m.a)(n,2),r=c[0],o=c[1];return Object(h.jsx)("header",{className:"Searchbar animate__animated animate__fadeInDown",children:Object(h.jsxs)("form",{className:"SearchForm",onSubmit:function(e){if(e.preventDefault(),""===r.trim())return d.c.error("Enter valid search");t(r),o("")},children:[Object(h.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(h.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(h.jsx)("input",{value:r,onChange:function(e){o(e.target.value)},className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}n(59),n(60);function p(e){var t=e.webformatURL,n=e.largeImageURL,a=e.tags,c=e.setModalImgInfo;return Object(h.jsx)("li",{className:"ImageGalleryItem animate_animated animate__zoomIn",children:Object(h.jsx)("img",{src:t,alt:a,onClick:function(){return c({largeImageURL:n,tags:a})},className:"ImageGalleryItem-image"})})}n(61);function g(e){var t=e.images,n=e.setModalImgInfo;return Object(h.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){var t=e.webformatURL,a=e.largeImageURL,c=e.tags,r=e.id;return Object(h.jsx)(p,{webformatURL:t,largeImageURL:a,tags:c,setModalImgInfo:n},r)}))})}n(62);function O(e){var t=e.onLoadMore;return Object(h.jsx)("button",{type:"button",className:"Button",onClick:t,children:"Load more"})}var v=n(26),x=n(27),y=n(29),w=n(28),I=(n(63),document.querySelector("#modal-root")),S=function(e){Object(y.a)(n,e);var t=Object(w.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).handleEscButtonPress=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleEscButtonPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleEscButtonPress)}},{key:"render",value:function(){return Object(r.createPortal)(Object(h.jsx)("div",{className:"Overlay",onClick:this.handleBackdropClick,children:Object(h.jsx)("div",{className:"Modal animate__animated animate__jackInTheBox",children:this.props.children})}),I)}}]),n}(a.PureComponent),k=n(14),L=n.n(k);L.a.defaults.baseURL="https://pixabay.com/api";var N=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var a,c,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"22952317-a5881606497ad665bd114491c",a="/?image_type=photo&orientation=horizontal&q=".concat(t,"&page=").concat(n,"&per_page=12&key=").concat("22952317-a5881606497ad665bd114491c"),e.next=4,L.a.get(a);case 4:return c=e.sent,r=c.data,o=r.hits,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=N;function C(){var e=Object(a.useState)(""),t=Object(m.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(1),o=Object(m.a)(r,2),s=o[0],b=o[1],p=Object(a.useState)([]),v=Object(m.a)(p,2),x=v[0],y=v[1],w=Object(a.useState)(!1),I=Object(m.a)(w,2),k=I[0],L=I[1],N=Object(a.useState)(null),C=Object(m.a)(N,2),E=(C[0],C[1]),U=Object(a.useState)("idle"),B=Object(m.a)(U,2),F=B[0],M=B[1],R=Object(a.useState)(null),P=Object(m.a)(R,2),A=P[0],D=P[1],G=Object(a.useState)(null),T=Object(m.a)(G,2),q=T[0],z=T[1];Object(a.useEffect)((function(){n&&J()}),[n]);var J=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M("pending"),e.prev=1,e.next=4,_(n,s);case 4:(t=e.sent).length<1&&d.c.error("Nothing found, specify your search"),y((function(e){return[].concat(Object(u.a)(e),Object(u.a)(t))})),M("resolved"),b((function(e){return e+1})),1!==s&&W(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log("Error:",e.t0.message),E({error:e.t0});case 16:return e.prev=16,M("resolved"),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,12,16,19]])})));return function(){return e.apply(this,arguments)}}(),H=function(){L(!k)},W=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},K=x.length>0&&x.length>=12;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(f,{onSubmit:function(e){e!==n&&(c(e),b(1),y([]))}}),0===x.length&&"pending"!==F&&Object(h.jsx)("h2",{style:{textAlign:"center"},children:"Nothing to show! \ud83d\ude0e Use Search above\ud83d\ude09"}),"pending"===F&&Object(h.jsx)(j.a,{className:"Loader",type:"Puff",color:"#00BFFF",height:150,width:150,timeout:2e3}),Object(h.jsx)(g,{images:x,setModalImgInfo:function(e){var t=e.largeImageURL,n=e.tags;D(t),z(n),H()}}),K&&Object(h.jsx)(O,{onLoadMore:function(){J()}}),k&&Object(h.jsx)(S,{onClose:H,children:Object(h.jsx)("img",{src:A,alt:q,width:"800",height:"600"})})]}),Object(h.jsx)(d.a,{transition:d.b,autoClose:3e3})]})}n(82);o.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(C,{})}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.f4183fe0.chunk.js.map