{"version":3,"sources":["components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/App/App.js","index.js"],"names":["Searchbar","state","text","handleChange","event","setState","target","value","handleSubmit","preventDefault","trim","toast","error","props","onSubmit","className","this","type","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","webformatURL","largeImageURL","tags","setModalImgInfo","src","alt","onClick","ImageGallery","images","map","id","Button","onLoadMore","modalRoot","document","querySelector","Modal","handleEscButtonPress","code","onClose","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","children","PureComponent","App","page","showModal","status","fetchImages","request","fetch","then","res","json","array","hits","length","prevState","handlePageScroll","catch","toggleModal","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","showLoadMore","color","height","width","timeout","transition","Zoom","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b4d81d88.chunk.js","sourcesContent":["import { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport PropTypes from 'prop-types';\r\nimport './Searchbar.scss';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    text: '',\r\n  };\r\n\r\n  handleChange = event => {\r\n    this.setState({\r\n      text: event.target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    if (this.state.text.trim() === '') {\r\n      return toast.error('Enter city name');\r\n    }\r\n    this.props.onSubmit(this.state.text);\r\n    this.setState({\r\n      text: '',\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            value={this.state.text}\r\n            onChange={this.handleChange}\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import './ImageGalleryItem.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function ImageGalleryItem({ webformatURL, largeImageURL, tags, setModalImgInfo }) {\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        onClick={() => setModalImgInfo({ largeImageURL, tags })}\r\n        className=\"ImageGalleryItem-image\"\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  setModalImgInfo: PropTypes.func.isRequired,\r\n};\r\n","import ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport './ImageGallery.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function ImageGallery({ images, setModalImgInfo }) {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {images.map(({ webformatURL, largeImageURL, tags, id }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          webformatURL={webformatURL}\r\n          largeImageURL={largeImageURL}\r\n          tags={tags}\r\n          setModalImgInfo={setModalImgInfo}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  setModalImgInfo: PropTypes.func.isRequired,\r\n};\r\n","import './Button.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function Button({ onLoadMore }) {\r\n  return (\r\n    <button type=\"button\" className=\"Button\" onClick={onLoadMore}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onLoadMore: PropTypes.func.isRequired,\r\n};\r\n","import React, { PureComponent } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './Modal.scss';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends PureComponent {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleEscButtonPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleEscButtonPress);\r\n  }\r\n\r\n  handleEscButtonPress = event => {\r\n    if (event.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\r\n        <div className=\"Modal\">{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  children: PropTypes.node,\r\n};\r\n","import React, { Component } from 'react';\nimport { toast, ToastContainer, Zoom } from 'react-toastify';\nimport Loader from 'react-loader-spinner';\nimport 'react-toastify/dist/ReactToastify.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport './App.scss';\nimport Searchbar from '../Searchbar/Searchbar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Button from '../Button/Button';\nimport Modal from '../Modal/Modal';\n\nexport default class App extends Component {\n  state = {\n    text: '',\n    page: 1,\n    images: [],\n    showModal: false,\n    error: null,\n    status: 'idle',\n    largeImageURL: null,\n    tags: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.text;\n    const nextQuery = this.state.text;\n\n    if (prevQuery !== nextQuery) {\n      this.setState({ images: [], page: 1 });\n      this.fetchImages();\n    }\n  }\n\n  fetchImages = () => {\n    const API_KEY = '22952317-a5881606497ad665bd114491c';\n    const BASE_URL = 'https://pixabay.com/api';\n    const { text, page } = this.state;\n    const perPage = 12;\n    const request = `/?image_type=photo&orientation=horizontal&q=${text}&page=${page}&per_page=${perPage}&key=${API_KEY}`;\n\n    this.setState({ status: 'pending' });\n\n    fetch(BASE_URL + request)\n      .then(res => res.json())\n      .then(array => {\n        const images = array.hits;\n        if (images.length < 1) {\n          toast.error('Nothing found, specify your search');\n        }\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          status: 'resolved',\n          page: prevState.page + 1,\n        }));\n        if (page !== 1) {\n          this.handlePageScroll();\n        }\n      })\n      .catch(error => this.setState({ error, status: 'rejected' }));\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  setModalImgInfo = ({ largeImageURL, tags }) => {\n    this.setState({ largeImageURL, tags });\n    this.toggleModal();\n  };\n\n  handlePageScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  onSubmit = text => {\n    this.setState({ text, page: 1 });\n  };\n\n  onLoadMore = () => {\n    this.fetchImages();\n  };\n\n  render() {\n    const { images, showModal, largeImageURL, tags, status } = this.state;\n    const showLoadMore = images.length > 0 && images.length >= 12;\n    return (\n      <>\n        <div className=\"App\">\n          <Searchbar onSubmit={this.onSubmit} />\n          {status === 'pending' && (\n            <Loader\n              className=\"Loader\"\n              type=\"Puff\"\n              color=\"#00BFFF\"\n              height={150}\n              width={150}\n              timeout={2000}\n            />\n          )}\n          <ImageGallery images={images} setModalImgInfo={this.setModalImgInfo} />\n          {showLoadMore && <Button onLoadMore={this.onLoadMore} />}\n          {showModal && (\n            <Modal onClose={this.toggleModal}>\n              <img src={largeImageURL} alt={tags} />\n            </Modal>\n          )}\n        </div>\n        <ToastContainer transition={Zoom} autoClose={3000} />\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport './styles/shared.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}