{"version":3,"sources":["components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/App/App.js","index.js"],"names":["Searchbar","state","text","handleChange","event","setState","target","value","handleSubmit","preventDefault","trim","toast","error","props","onSubmit","className","this","type","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","webformatURL","tags","largeImageURL","src","alt","ImageGallery","images","map","id","Button","onLoadMore","onClick","App","page","showModal","status","fetchImages","request","fetch","then","res","json","array","hits","length","prevState","handlePageScroll","catch","window","scrollTo","top","document","documentElement","scrollHeight","behavior","prevProps","setTimeout","transition","Zoom","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.18e8690b.chunk.js","sourcesContent":["import { Component } from 'react';\r\nimport './Searchbar.scss';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    text: '',\r\n  };\r\n\r\n  handleChange = event => {\r\n    this.setState({\r\n      text: event.target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    if (this.state.text.trim() === '') {\r\n      return toast.error('Enter city name');\r\n    }\r\n    this.props.onSubmit(this.state.text);\r\n    this.setState({\r\n      text: '',\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            value={this.state.text}\r\n            onChange={this.handleChange}\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import './ImageGalleryItem.scss';\r\n\r\nexport default function ImageGalleryItem({ webformatURL, largeImageURL, tags }) {\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img src={webformatURL} alt={tags} className=\"ImageGalleryItem-image\" />\r\n    </li>\r\n  );\r\n}\r\n","import ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport './ImageGallery.scss';\r\n\r\nexport default function ImageGallery({ images }) {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {images.map(({ webformatURL, largeImageURL, tags, id }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          webformatURL={webformatURL}\r\n          largeImageURL={largeImageURL}\r\n          tags={tags}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n","import './Button.scss';\r\n\r\nexport default function Button({ onLoadMore }) {\r\n  return (\r\n    <button type=\"button\" className=\"Button\" onClick={onLoadMore}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\nimport { toast, ToastContainer, Zoom } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.scss';\nimport Searchbar from '../Searchbar/Searchbar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Button from '../Button/Button';\n\nexport default class App extends Component {\n  state = {\n    text: '',\n    page: 1,\n    images: [],\n    showModal: false,\n    error: null,\n    status: 'idle',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.text;\n    const nextQuery = this.state.text;\n\n    if (prevQuery !== nextQuery) {\n      this.setState({ images: [], page: 1 });\n      setTimeout(() => {\n        this.fetchImages();\n      }, 1500);\n    }\n  }\n\n  fetchImages = () => {\n    const API_KEY = '22952317-a5881606497ad665bd114491c';\n    const BASE_URL = 'https://pixabay.com/api';\n    const { text, page } = this.state;\n    const perPage = 12;\n    const request = `/?image_type=photo&orientation=horizontal&q=${text}&page=${page}&per_page=${perPage}&key=${API_KEY}`;\n\n    this.setState({ status: 'pending' });\n\n    fetch(BASE_URL + request)\n      .then(res => res.json())\n      .then(array => {\n        const images = array.hits;\n        if (images.length < 1) {\n          toast.error('Nothing found, specify your search');\n        }\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          status: 'resolved',\n          page: prevState.page + 1,\n        }));\n        this.handlePageScroll();\n      })\n      .catch(error => this.setState({ error, status: 'rejected' }));\n  };\n\n  handlePageScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  onSubmit = text => {\n    this.setState({ text });\n  };\n\n  onLoadMore = () => {\n    this.fetchImages();\n  };\n\n  render() {\n    const { images } = this.state;\n    return (\n      <>\n        <div className=\"App\">\n          <Searchbar onSubmit={this.onSubmit} />\n          <ImageGallery images={images} />\n          {images.length > 0 && <Button onLoadMore={this.onLoadMore} />}\n        </div>\n        <ToastContainer transition={Zoom} autoClose={3000} />\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport './styles/shared.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}